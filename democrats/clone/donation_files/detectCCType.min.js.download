(function(e){e.fn.extend({detectCCType:function(){function p(){var e=t.val();if(a.test(e)){d();r.attr("checked","checked")}else if(f.test(e)){d();i.attr("checked","checked")}else if(l.test(e)){d();s.attr("checked","checked")}else if(c.test(e)){d();o.attr("checked","checked")}else h.test(e)||d()}function d(){e(u).each(function(e){u[e].removeAttr("checked")})}var t=e("#cc_number,#BSDForm-cc_number").eq(0),n=e("input[name='cc_type_cd']"),r=n.filter("[value='vs']"),i=n.filter("[value='ax']"),s=n.filter("[value='ds']"),o=n.filter("[value='mc']"),u=[r,i,s,o],a=/^4/,f=/^3/,l=/^6/,c=/^5/,h=/^x/i;t.keyup(p).change(p).blur(p).bind("paste",p)}})})(jQuery);