!function(e){function t(e){return parseFloat(e||0).toFixed(2).toString().replace(".00","")}function n(e){var t=e.toString().split(".");return t[0].length>=4&&(t[0]=t[0].replace(/(\d)(?=(\d{3})+$)/g,"$1,")),t.join(".")}var r=function(a,i,o){var u,l=Number(a);return(!a||l>=i+.01)&&(a="other"),u=String(a),r.current=l,r.memo&&r.memo[u]?(r.last=r.memo[u],o(r.last)):e.ajax({url:"/ctl/lara/contribution/full-gift/v1/display-fee",data:{contribution:a,max:1/0>i?i||0:0},success:function(e){var i,f;e&&"fee"in e&&"number"==typeof Number(e.fee)&&(i=t((100*Number(e.fee)+100*Number(a))/100),r.memo[u]=f={fee:Number(e.fee),feeString:t(e.fee),total:i,totalString:n(i),amount:l},r.current===l&&(r.last=f,o(r.last)))}})};r.memo={other:{}},r.last={},window.getFee=r,e(document).ready(function(){function t(e){g.val(e.feeString||0),b.html("fee"in e?d+h+" "+v+e.totalString+".":d)}function n(e){u[f](l+("fee"in e?" "+v+e.totalString:""))}function a(e){e=g[0].checked?e:{},t(e),n(e)}var i=e("#contribution"),o=Number(i.find("input[name=max_contribution]").val())||1/0,u=i.find("[type=submit]").eq(0),l=u.val()||u.html()||"Submit",f="input"===u[0].tagName.toLowerCase()?"val":"html",m=e.fn.on?"on":"live",c=function(e,t){var n="on"===m;return e[n?"data":"attr"]((n?"":"data-")+t)||""},g=i.find("input[name=full_gift]").val(0),d=c(g,"label-text")+" ",h=c(g,"fee-text"),s="membership"===c(g,"page-type"),v=c(g,"currency-symbol")||"$",b=i.find("#full-gift-label"),p=i.find("input[name=amount],input[name=amount_other]"),y=i.find("input[name=amount_other]");return g.length?(p[m]("change keyup",function(){a({});var t=e(this).val();"other"===t&&(t=y.val()),r(t,o,a)}),g.change(function(){a(this.checked?r.last:{})}),g.removeAttr("disabled"),p.filter(":checked").trigger("change"),y.val()&&y.trigger("change"),s&&p.eq(0).trigger("change"),void i.find("#full-gift-container").removeClass("hidden")):!1})}(jQuery||bQuery);