!function(e){function t(){return(document.cookie.match("(^|; )gaci=([^;]*)")||0)[2]||function(){var e=(new Date).getTime(),t=function n(t){return t?(t^16*Math.random()>>t/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,n)+e.toString().substr(8,12)}();return document.cookie="gaci="+t+"; path=/; expires="+new Date(e+63072e6).toGMTString(),t}()}var n={apiKey:null,gaci:t(),request:function(e,t,o){if("function"==typeof t)o=t,t={};else if(t){if(t!==Object(t))throw"'data' parameter must be an Object or null value"}else t={};t.api_key=t.api_key||n.apiKey,t.referrer=window.document.referrer;var r;for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(t[r]===!0?t[r]=1:t[r]===!1&&(t[r]=0));ajax_post({type:"POST",url:"/api/"+e,data:t},"get_user"===e&&n.gaci).always(o)},createRpc:function(){function e(e){return function(t,o){return n.request(e,t,o)}}return new easyXDM.Rpc({local:"/xdm/name",swf:"/xdm/easyxdm.swf"},{remote:{},local:{charge:e("charge"),checkEnrollment:e("check_enrollment"),enroll:e("enroll"),getUser:e("get_user"),loginExternal:e("login_external"),loginSms:e("login_sms"),logout:e("logout"),optOut:e("opt_out"),sendLoginEmail:e("send_login_email"),sendLoginSms:e("send_login_sms"),sendEmailPay:e("send_email_pay"),updateDonor:e("update_donor"),getQuickPayment:e("get_quick_payment"),setApiKey:function(e){n.apiKey=e}}})}};e.QD={RPC:n.createRpc()}}(window);