!function(e,n,t,o,a,r){function i(e,n){var t=typeof e[n];return"function"==t||!("object"!=t||!e[n])||"unknown"==t}function c(e,n){return!("object"!=typeof e[n]||!e[n])}function s(e){return"[object Array]"===Object.prototype.toString.call(e)}function l(){var e="Shockwave Flash",n="application/x-shockwave-flash";if(!w(navigator.plugins)&&"object"==typeof navigator.plugins[e]){var t=navigator.plugins[e].description;t&&!w(navigator.mimeTypes)&&navigator.mimeTypes[n]&&navigator.mimeTypes[n].enabledPlugin&&(E=t.match(/\d+/g))}if(!E){var o;try{o=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),E=Array.prototype.slice.call(o.GetVariable("$version").match(/(\d+),(\d+),(\d+),(\d+)/),1),o=null}catch(a){}}if(!E)return!1;var r=parseInt(E[0],10),i=parseInt(E[1],10);return R=r>9&&i>0,!0}function u(){if(!z){z=!0;for(var e=0;e<Q.length;e++)Q[e]();Q.length=0}}function p(e,n){return z?void e.call(n):void Q.push(function(){e.call(n)})}function f(){var e=parent;if(""!==B)for(var n=0,t=B.split(".");n<t.length;n++)e=e[t[n]];return e.easyXDM}function d(n){return e.easyXDM=A,B=n,B&&(I="easyXDM_"+B.replace(".","_")+"_"),J}function m(e){return e.match(H)[3]}function h(e){return e.match(H)[4]||""}function g(e){var n=e.toLowerCase().match(H),t=n[2],o=n[3],a=n[4]||"";return("http:"==t&&":80"==a||"https:"==t&&":443"==a)&&(a=""),t+"//"+o+a}function v(e){if(e=e.replace(L,"$1/"),!e.match(/^(http||https):\/\//)){var n="/"===e.substring(0,1)?"":t.pathname;"/"!==n.substring(n.length-1)&&(n=n.substring(0,n.lastIndexOf("/")+1)),e=t.protocol+"//"+t.host+n+e}for(;j.test(e);)e=e.replace(j,"");return e}function y(e,n){var t="",o=e.indexOf("#");-1!==o&&(t=e.substring(o),e=e.substring(0,o));var a=[];for(var i in n)n.hasOwnProperty(i)&&a.push(i+"="+r(n[i]));return e+(X?"#":-1==e.indexOf("?")?"?":"&")+a.join("&")+t}function w(e){return"undefined"==typeof e}function b(e,n,t){var o;for(var a in n)n.hasOwnProperty(a)&&(a in e?(o=n[a],"object"==typeof o?b(e[a],o,t):t||(e[a]=n[a])):e[a]=n[a]);return e}function k(){var e=n.body.appendChild(n.createElement("form")),t=e.appendChild(n.createElement("input"));t.name=I+"TEST"+P,T=t!==e.elements[t.name],n.body.removeChild(e)}function x(e){w(T)&&k();var t;T?t=n.createElement('<iframe name="'+e.props.name+'"/>'):(t=n.createElement("IFRAME"),t.name=e.props.name),t.id=t.name=e.props.name,delete e.props.name,"string"==typeof e.container&&(e.container=n.getElementById(e.container)),e.container||(b(t.style,{position:"absolute",top:"-2000px",left:"0px"}),e.container=n.body);var o=e.props.src;if(e.props.src="javascript:false",b(t,e.props),t.border=t.frameBorder=0,t.allowTransparency=!0,e.container.appendChild(t),e.onLoad&&D(t,"load",e.onLoad),e.usePost){var a,r=e.container.appendChild(n.createElement("form"));if(r.target=t.name,r.action=o,r.method="POST","object"==typeof e.usePost)for(var i in e.usePost)e.usePost.hasOwnProperty(i)&&(T?a=n.createElement('<input name="'+i+'"/>'):(a=n.createElement("INPUT"),a.name=i),a.value=e.usePost[i],r.appendChild(a));r.submit(),r.parentNode.removeChild(r)}else t.src=o;return e.props.src=o,t}function _(e,n){"string"==typeof e&&(e=[e]);for(var t,o=e.length;o--;)if(t=e[o],t=new RegExp("^"==t.substr(0,1)?t:"^"+t.replace(/(\*)/g,".$1").replace(/\?/g,".")+"$"),t.test(n))return!0;return!1}function O(o){var a,r=o.protocol;if(o.isHost=o.isHost||w(U.xdm_p),X=o.hash||!1,o.props||(o.props={}),o.isHost)o.remote=v(o.remote),o.channel=o.channel||"default"+P++,o.secret=Math.random().toString(16).substring(2),w(r)&&(r=g(t.href)==g(o.remote)?"4":i(e,"postMessage")||i(n,"postMessage")?"1":o.swf&&i(e,"ActiveXObject")&&l()?"6":"Gecko"===navigator.product&&"frameElement"in e&&-1==navigator.userAgent.indexOf("WebKit")?"5":o.remoteHelper?"2":"0");else if(o.channel=U.xdm_c.replace(/["'<>\\]/g,""),o.secret=U.xdm_s,o.remote=U.xdm_e.replace(/["'<>\\]/g,""),r=U.xdm_p,o.acl&&!_(o.acl,o.remote))throw new Error("Access denied for "+o.remote);switch(o.protocol=r,r){case"0":if(b(o,{interval:100,delay:2e3,useResize:!0,useParent:!1,usePolling:!1},!0),o.isHost){if(!o.local){for(var c,s=t.protocol+"//"+t.host,u=n.body.getElementsByTagName("img"),p=u.length;p--;)if(c=u[p],c.src.substring(0,s.length)===s){o.local=c.src;break}o.local||(o.local=e)}var f={xdm_c:o.channel,xdm_p:0};o.local===e?(o.usePolling=!0,o.useParent=!0,o.local=t.protocol+"//"+t.host+t.pathname+t.search,f.xdm_e=o.local,f.xdm_pa=1):f.xdm_e=v(o.local),o.container&&(o.useResize=!1,f.xdm_po=1),o.remote=y(o.remote,f)}else b(o,{channel:U.xdm_c,remote:U.xdm_e,useParent:!w(U.xdm_pa),usePolling:!w(U.xdm_po),useResize:o.useParent?!1:o.useResize});a=[new J.stack.HashTransport(o),new J.stack.ReliableBehavior({}),new J.stack.QueueBehavior({encode:!0,maxLength:4e3-o.remote.length}),new J.stack.VerifyBehavior({initiate:o.isHost})];break;case"1":a=[new J.stack.PostMessageTransport(o)];break;case"2":o.isHost&&(o.remoteHelper=v(o.remoteHelper)),a=[new J.stack.NameTransport(o),new J.stack.QueueBehavior,new J.stack.VerifyBehavior({initiate:o.isHost})];break;case"3":a=[new J.stack.NixTransport(o)];break;case"4":a=[new J.stack.SameOriginTransport(o)];break;case"5":a=[new J.stack.FrameElementTransport(o)];break;case"6":E||l(),a=[new J.stack.FlashTransport(o)]}return a.push(new J.stack.QueueBehavior({lazy:o.lazy,remove:!0})),a}function M(e){for(var n,t={incoming:function(e,n){this.up.incoming(e,n)},outgoing:function(e,n){this.down.outgoing(e,n)},callback:function(e){this.up.callback(e)},init:function(){this.down.init()},destroy:function(){this.down.destroy()}},o=0,a=e.length;a>o;o++)n=e[o],b(n,t,!0),0!==o&&(n.down=e[o-1]),o!==a-1&&(n.up=e[o+1]);return n}function S(e){e.up.down=e.down,e.down.up=e.up,e.up=e.down=null}var T,E,R,D,F,N=this,P=Math.floor(1e4*Math.random()),C=Function.prototype,H=/^((http.?:)\/\/([^:\/\s]+)(:\d+)*)/,j=/[\-\w]+\/\.\.\//,L=/([^:])\/\//g,B="",J={},A=e.easyXDM,I="easyXDM_",X=!1;if(i(e,"addEventListener"))D=function(e,n,t){e.addEventListener(n,t,!1)},F=function(e,n,t){e.removeEventListener(n,t,!1)};else{if(!i(e,"attachEvent"))throw new Error("Browser not supported");D=function(e,n,t){e.attachEvent("on"+n,t)},F=function(e,n,t){e.detachEvent("on"+n,t)}}var W,z=!1,Q=[];if("readyState"in n?(W=n.readyState,z="complete"==W||~navigator.userAgent.indexOf("AppleWebKit/")&&("loaded"==W||"interactive"==W)):z=!!n.body,!z){if(i(e,"addEventListener"))D(n,"DOMContentLoaded",u);else if(D(n,"readystatechange",function(){"complete"==n.readyState&&u()}),n.documentElement.doScroll&&e===top){var q=function(){if(!z){try{n.documentElement.doScroll("left")}catch(e){return void o(q,1)}u()}};q()}D(e,"load",u)}var U=function(e){e=e.substring(1).split("&");for(var n,t={},o=e.length;o--;)n=e[o].split("="),t[n[0]]=a(n[1]);return t}(/xdm_e=/.test(t.search)?t.search:t.hash),V=function(){var e={},n={a:[1,2,3]},t='{"a":[1,2,3]}';return"undefined"!=typeof JSON&&"function"==typeof JSON.stringify&&JSON.stringify(n).replace(/\s/g,"")===t?JSON:(Object.toJSON&&Object.toJSON(n).replace(/\s/g,"")===t&&(e.stringify=Object.toJSON),"function"==typeof String.prototype.evalJSON&&(n=t.evalJSON(),n.a&&3===n.a.length&&3===n.a[2]&&(e.parse=function(e){return e.evalJSON()})),e.stringify&&e.parse?(V=function(){return e},e):null)};b(J,{version:"2.4.19.3",query:U,stack:{},apply:b,getJSONObject:V,whenReady:p,noConflict:d}),J.DomHelper={on:D,un:F,requiresJSON:function(t){c(e,"JSON")||n.write('<script type="text/javascript" src="'+t+'"></script>')}},function(){var e={};J.Fn={set:function(n,t){e[n]=t},get:function(n,t){if(e.hasOwnProperty(n)){var o=e[n];return t&&delete e[n],o}}}}(),J.Socket=function(e){var n=M(O(e).concat([{incoming:function(n,t){e.onMessage(n,t)},callback:function(n){e.onReady&&e.onReady(n)}}])),t=g(e.remote);this.origin=g(e.remote),this.destroy=function(){n.destroy()},this.postMessage=function(e){n.outgoing(e,t)},n.init()},J.Rpc=function(e,n){if(n.local)for(var t in n.local)if(n.local.hasOwnProperty(t)){var o=n.local[t];"function"==typeof o&&(n.local[t]={method:o})}var a=M(O(e).concat([new J.stack.RpcBehavior(this,n),{callback:function(n){e.onReady&&e.onReady(n)}}]));this.origin=g(e.remote),this.destroy=function(){a.destroy()},a.init()},J.stack.SameOriginTransport=function(e){var n,a,r,i;return n={outgoing:function(e,n,t){r(e),t&&t()},destroy:function(){a&&(a.parentNode.removeChild(a),a=null)},onDOMReady:function(){i=g(e.remote),e.isHost?(b(e.props,{src:y(e.remote,{xdm_e:t.protocol+"//"+t.host+t.pathname,xdm_c:e.channel,xdm_p:4}),name:I+e.channel+"_provider"}),a=x(e),J.Fn.set(e.channel,function(e){return r=e,o(function(){n.up.callback(!0)},0),function(e){n.up.incoming(e,i)}})):(r=f().Fn.get(e.channel,!0)(function(e){n.up.incoming(e,i)}),o(function(){n.up.callback(!0)},0))},init:function(){p(n.onDOMReady,n)}}},J.stack.FlashTransport=function(e){function a(e,n){o(function(){c.up.incoming(e,l)},0)}function i(t){var o=e.swf+"?host="+e.isHost,a="easyXDM_swf_"+Math.floor(1e4*Math.random());J.Fn.set("flash_loaded"+t.replace(/[\-.]/g,"_"),function(){J.stack.FlashTransport[t].swf=u=f.firstChild;for(var e=J.stack.FlashTransport[t].queue,n=0;n<e.length;n++)e[n]();e.length=0}),e.swfContainer?f="string"==typeof e.swfContainer?n.getElementById(e.swfContainer):e.swfContainer:(f=n.createElement("div"),b(f.style,R&&e.swfNoThrottle?{height:"20px",width:"20px",position:"fixed",right:0,top:0}:{height:"1px",width:"1px",position:"absolute",overflow:"hidden",right:0,top:0}),n.body.appendChild(f));var i="callback=flash_loaded"+r(t.replace(/[\-.]/g,"_"))+"&proto="+N.location.protocol+"&domain="+r(m(N.location.href))+"&port="+r(h(N.location.href))+"&ns="+r(B);f.innerHTML="<object height='20' width='20' type='application/x-shockwave-flash' id='"+a+"' data='"+o+"'><param name='allowScriptAccess' value='always'></param><param name='wmode' value='transparent'><param name='movie' value='"+o+"'></param><param name='flashvars' value='"+i+"'></param><embed type='application/x-shockwave-flash' FlashVars='"+i+"' allowScriptAccess='always' wmode='transparent' src='"+o+"' height='1' width='1'></embed></object>"}var c,s,l,u,f;return c={outgoing:function(n,t,o){u.postMessage(e.channel,n.toString()),o&&o()},destroy:function(){try{u.destroyChannel(e.channel)}catch(n){}u=null,s&&(s.parentNode.removeChild(s),s=null)},onDOMReady:function(){l=e.remote,J.Fn.set("flash_"+e.channel+"_init",function(){o(function(){c.up.callback(!0)})}),J.Fn.set("flash_"+e.channel+"_onMessage",a),e.swf=v(e.swf);var n=m(e.swf),r=function(){J.stack.FlashTransport[n].init=!0,u=J.stack.FlashTransport[n].swf,u.createChannel(e.channel,e.secret,g(e.remote),e.isHost),e.isHost&&(R&&e.swfNoThrottle&&b(e.props,{position:"fixed",right:0,top:0,height:"20px",width:"20px"}),b(e.props,{src:y(e.remote,{xdm_e:g(t.href),xdm_c:e.channel,xdm_p:6,xdm_s:e.secret}),name:I+e.channel+"_provider"}),s=x(e))};J.stack.FlashTransport[n]&&J.stack.FlashTransport[n].init?r():J.stack.FlashTransport[n]?J.stack.FlashTransport[n].queue.push(r):(J.stack.FlashTransport[n]={queue:[r]},i(n))},init:function(){p(c.onDOMReady,c)}}},J.stack.PostMessageTransport=function(n){function a(e){if(e.origin)return g(e.origin);if(e.uri)return g(e.uri);if(e.domain)return t.protocol+"//"+e.domain;throw"Unable to retrieve the origin of the event"}function r(e){var t=a(e);t==l&&e.data.substring(0,n.channel.length+1)==n.channel+" "&&i.up.incoming(e.data.substring(n.channel.length+1),t)}var i,c,s,l;return i={outgoing:function(e,t,o){s.postMessage(n.channel+" "+e,t||l),o&&o()},destroy:function(){F(e,"message",r),c&&(s=null,c.parentNode.removeChild(c),c=null)},onDOMReady:function(){if(l=g(n.remote),n.isHost){var a=function(t){t.data==n.channel+"-ready"&&(s="postMessage"in c.contentWindow?c.contentWindow:c.contentWindow.document,F(e,"message",a),D(e,"message",r),o(function(){i.up.callback(!0)},0))};D(e,"message",a),b(n.props,{src:y(n.remote,{xdm_e:g(t.href),xdm_c:n.channel,xdm_p:1}),name:I+n.channel+"_provider"}),c=x(n)}else D(e,"message",r),s="postMessage"in e.parent?e.parent:e.parent.document,s.postMessage(n.channel+"-ready",l),o(function(){i.up.callback(!0)},0)},init:function(){p(i.onDOMReady,i)}}},J.stack.FrameElementTransport=function(a){var r,i,c,s;return r={outgoing:function(e,n,t){c.call(this,e),t&&t()},destroy:function(){i&&(i.parentNode.removeChild(i),i=null)},onDOMReady:function(){s=g(a.remote),a.isHost?(b(a.props,{src:y(a.remote,{xdm_e:g(t.href),xdm_c:a.channel,xdm_p:5}),name:I+a.channel+"_provider"}),i=x(a),i.fn=function(e){return delete i.fn,c=e,o(function(){r.up.callback(!0)},0),function(e){r.up.incoming(e,s)}}):(n.referrer&&g(n.referrer)!=U.xdm_e&&(e.top.location=U.xdm_e),c=e.frameElement.fn(function(e){r.up.incoming(e,s)}),r.up.callback(!0))},init:function(){p(r.onDOMReady,r)}}},J.stack.NameTransport=function(e){function n(n){var t=e.remoteHelper+(c?"#_3":"#_2")+e.channel;s.contentWindow.sendMessage(n,t)}function t(){c?2!==++u&&c||i.up.callback(!0):(n("ready"),i.up.callback(!0))}function a(e){i.up.incoming(e,d)}function r(){f&&o(function(){f(!0)},0)}var i,c,s,l,u,f,d,m;return i={outgoing:function(e,t,o){f=o,n(e)},destroy:function(){s.parentNode.removeChild(s),s=null,c&&(l.parentNode.removeChild(l),l=null)},onDOMReady:function(){c=e.isHost,u=0,d=g(e.remote),e.local=v(e.local),c?(J.Fn.set(e.channel,function(n){c&&"ready"===n&&(J.Fn.set(e.channel,a),t())}),m=y(e.remote,{xdm_e:e.local,xdm_c:e.channel,xdm_p:2}),b(e.props,{src:m+"#"+e.channel,name:I+e.channel+"_provider"}),l=x(e)):(e.remoteHelper=e.remote,J.Fn.set(e.channel,a));var n=function(){var a=s||this;F(a,"load",n),J.Fn.set(e.channel+"_load",r),function i(){"function"==typeof a.contentWindow.sendMessage?t():o(i,50)}()};s=x({props:{src:e.local+"#_4"+e.channel},onLoad:n})},init:function(){p(i.onDOMReady,i)}}},J.stack.HashTransport=function(n){function t(e){if(h){var t=n.remote+"#"+d++ +"_"+e;(s||!v?h.contentWindow:h).location=t}}function a(e){f=e,c.up.incoming(f.substring(f.indexOf("_")+1),y)}function r(){if(m){var e=m.location.href,n="",t=e.indexOf("#");-1!=t&&(n=e.substring(t)),n&&n!=f&&a(n)}}function i(){l=setInterval(r,u)}var c,s,l,u,f,d,m,h,v,y;return c={outgoing:function(e,n){t(e)},destroy:function(){e.clearInterval(l),(s||!v)&&h.parentNode.removeChild(h),h=null},onDOMReady:function(){if(s=n.isHost,u=n.interval,f="#"+n.channel,d=0,v=n.useParent,y=g(n.remote),s){if(b(n.props,{src:n.remote,name:I+n.channel+"_provider"}),v)n.onLoad=function(){m=e,i(),c.up.callback(!0)};else{var t=0,a=n.delay/50;!function r(){if(++t>a)throw new Error("Unable to reference listenerwindow");try{m=h.contentWindow.frames[I+n.channel+"_consumer"]}catch(e){}m?(i(),c.up.callback(!0)):o(r,50)}()}h=x(n)}else m=e,i(),v?(h=parent,c.up.callback(!0)):(b(n,{props:{src:n.remote+"#"+n.channel+new Date,name:I+n.channel+"_consumer"},onLoad:function(){c.up.callback(!0)}}),h=x(n))},init:function(){p(c.onDOMReady,c)}}},J.stack.ReliableBehavior=function(e){var n,t,o=0,a=0,r="";return n={incoming:function(e,i){var c=e.indexOf("_"),s=e.substring(0,c).split(",");e=e.substring(c+1),s[0]==o&&(r="",t&&t(!0)),e.length>0&&(n.down.outgoing(s[1]+","+o+"_"+r,i),a!=s[1]&&(a=s[1],n.up.incoming(e,i)))},outgoing:function(e,i,c){r=e,t=c,n.down.outgoing(a+","+ ++o+"_"+e,i)}}},J.stack.QueueBehavior=function(e){function n(){if(e.remove&&0===c.length)return void S(t);if(!s&&0!==c.length&&!i){s=!0;var a=c.shift();t.down.outgoing(a.data,a.origin,function(e){s=!1,a.callback&&o(function(){a.callback(e)},0),n()})}}var t,i,c=[],s=!0,l="",u=0,p=!1,f=!1;return t={init:function(){w(e)&&(e={}),e.maxLength&&(u=e.maxLength,f=!0),e.lazy?p=!0:t.down.init()},callback:function(e){s=!1;var o=t.up;n(),o.callback(e)},incoming:function(n,o){if(f){var r=n.indexOf("_"),i=parseInt(n.substring(0,r),10);l+=n.substring(r+1),0===i&&(e.encode&&(l=a(l)),t.up.incoming(l,o),l="")}else t.up.incoming(n,o)},outgoing:function(o,a,i){e.encode&&(o=r(o));var s,l=[];if(f){for(;0!==o.length;)s=o.substring(0,u),o=o.substring(s.length),l.push(s);for(;s=l.shift();)c.push({data:l.length+"_"+s,origin:a,callback:0===l.length?i:null})}else c.push({data:o,origin:a,callback:i});p?t.down.init():n()},destroy:function(){i=!0,t.down.destroy()}}},J.stack.VerifyBehavior=function(e){function n(){o=Math.random().toString(16).substring(2),t.down.outgoing(o)}var t,o,a;return t={incoming:function(r,i){var c=r.indexOf("_");-1===c?r===o?t.up.callback(!0):a||(a=r,e.initiate||n(),t.down.outgoing(r)):r.substring(0,c)===a&&t.up.incoming(r.substring(c+1),i)},outgoing:function(e,n,a){t.down.outgoing(o+"_"+e,n,a)},callback:function(t){e.initiate&&n()}}},J.stack.RpcBehavior=function(e,n){function t(e){e.jsonrpc="2.0",r.down.outgoing(i.stringify(e))}function o(e,n){var o=Array.prototype.slice;return function(){var a,r=arguments.length,i={method:n};r>0&&"function"==typeof arguments[r-1]?(r>1&&"function"==typeof arguments[r-2]?(a={success:arguments[r-2],error:arguments[r-1]},i.params=o.call(arguments,0,r-2)):(a={success:arguments[r-1]},i.params=o.call(arguments,0,r-1)),l[""+ ++c]=a,i.id=c):i.params=o.call(arguments,0),e.namedParams&&1===i.params.length&&(i.params=i.params[0]),t(i)}}function a(e,n,o,a){if(!o)return void(n&&t({id:n,error:{code:-32601,message:"Procedure not found."}}));var r,i;n?(r=function(e){r=C,t({id:n,result:e})},i=function(e,o){i=C;var a={id:n,error:{code:-32099,message:e}};o&&(a.error.data=o),t(a)}):r=i=C,s(a)||(a=[a]);try{var c=o.method.apply(o.scope,a.concat([r,i]));w(c)||r(c)}catch(l){i(l.message)}}var r,i=n.serializer||V(),c=0,l={};return r={incoming:function(e,o){var r=i.parse(e);if(r.method)n.handle?n.handle(r,t):a(r.method,r.id,n.local[r.method],r.params);else{var c=l[r.id];r.error?c.error&&c.error(r.error):c.success&&c.success(r.result),delete l[r.id]}},init:function(){if(n.remote)for(var t in n.remote)n.remote.hasOwnProperty(t)&&(e[t]=o(n.remote[t],t));r.down.init()},destroy:function(){for(var t in n.remote)n.remote.hasOwnProperty(t)&&e.hasOwnProperty(t)&&delete e[t];r.down.destroy()}}},N.easyXDM=J}(window,document,location,window.setTimeout,decodeURIComponent,encodeURIComponent),easyXDM.DomHelper.requiresJSON("https://cdnjs.cloudflare.com/ajax/libs/json2/20150503/json2.min.js");var QD=QD||{};QD.createRpc=function(e){return new easyXDM.Rpc({local:"/easyxdm/name.html",swf:e+"/easyxdm/easyxdm.swf",remote:e+"/xdm/methods",remoteHelper:e+"/xdm/name",container:"embedded"},{remote:{charge:{},checkEnrollment:{},enroll:{},getUser:{},loginExternal:{},loginSms:{},logout:{},optOut:{},sendLoginEmail:{},sendLoginSms:{},sendEmailPay:{},updateDonor:{},setApiKey:{}}})};